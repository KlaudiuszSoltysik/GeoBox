{% extends 'main.html' %}
{% load static %}
{% load templatetags %}

{% block content %}
<div class="container-fluid text-center header">
  <div class="row">
    {% if user %}
    <div class="col">
      <a href="{% url 'add_box' %}">Add box</a>
    </div>
    {% else %}
    <div class="col">
      <a class="log-in-link">Add box</a>
    </div>
    {% endif %}
  </div>
</div>

{% for box in boxesList %}
<div class="container-lg box-container">
  <div class="row">
    <div class="col-1" style="background-color: {{ box.box.img1|getDominantColor }}">
      <div class="compas">
        <h3>N</h3> 
      </div>
      <canvas id="c" width="200" height="200"></canvas>
    </div>
    <div class="col-2" style="background-image: url('{{ box.box.img1 }}'); background-color: {{ box.box.img1|getDominantColor }}">
      <h1>{{ box.box.name }}</h1>
      <h2 data-lat="{{ box.box.lat }}" data-lon="{{ box.box.lon }}" class="position">{{ box.distance }} m</h2>
      <h2>{{ box.box.difficulty|stars }}</h2>
    </div>
  </div>
</div>
{% endfor %}

<script src="{% static 'scripts/boxes.js' %}"></script>
{% endblock %}